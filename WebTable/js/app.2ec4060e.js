(function(e){function t(t){for(var o,l,r=t[0],c=t[1],a=t[2],d=0,h=[];d<r.length;d++)l=r[d],Object.prototype.hasOwnProperty.call(i,l)&&i[l]&&h.push(i[l][0]),i[l]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);u&&u(t);while(h.length)h.shift()();return s.push.apply(s,a||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],o=!0,r=1;r<n.length;r++){var c=n[r];0!==i[c]&&(o=!1)}o&&(s.splice(t--,1),e=l(l.s=n[0]))}return e}var o={},i={app:0},s=[];function l(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=o,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)l.d(n,o,function(t){return e[t]}.bind(null,o));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/WebTable/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var a=0;a<r.length;a++)t(r[a]);var u=c;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0055":function(e,t,n){},"0fff":function(e,t,n){},"1a54":function(e,t,n){},"1c90":function(e,t,n){"use strict";n("ac65")},"270c":function(e,t,n){"use strict";n("0055")},"2a0a":function(e,t,n){},"2eb7":function(e,t,n){},"356f":function(e,t,n){"use strict";n("e9f5")},"381d":function(e,t,n){},"3f1a":function(e,t,n){},4064:function(e,t,n){"use strict";n("2a0a")},4845:function(e,t,n){"use strict";n("ebd7")},"4c21":function(e,t,n){"use strict";n("6351")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Tools"),n("div",{staticClass:"container"},[n("Table",{style:e.tableStyle}),n("TextTableViewer")],1),n("Popup",{model:{value:e.isOverlayVisible,callback:function(t){e.isOverlayVisible=t},expression:"isOverlayVisible"}})],1)},s=[],l=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{ref:"select",staticClass:"select"},[o("div",{staticClass:"select__value",class:{opened:e.isOpened},on:{click:e.toggle}},[o("div",{staticClass:"select__content"},[e._v(" "+e._s(e.selectedValue)+" ")]),o("img",{staticClass:"select__icon",class:{opened:e.isOpened},attrs:{src:n("6d05")}})]),o("div",{ref:"items",staticClass:"select__items",class:{opened:e.isOpened}},e._l(e.items,(function(t,n){return o("div",{key:n,staticClass:"select__row",class:{"pre-selected":e.preSelectedIndex==n},on:{mousemove:function(t){e.preSelectedIndex=n},click:function(t){return e.select(n)}}},[o("div",{staticClass:"select__item"},[e._v(" "+e._s(t)+" ")])])})),0)])},r=[],c=(n("a9e3"),n("4de4"),n("159b"),{mouseup:[],mousemove:[],mousedown:[],keydown:[],touchstart:[],touchmove:[],touchend:[],copy:[],paste:[],cut:[],selectionchanged:[],rowsizechanged:[],columnsizechanged:[],cellchanged:[],tablechanged:[],configchanged:[],openpopup:[],closepopup:[]});function a(e,t){c[e]&&c[e].push(t)}function u(e,t){c[e].filter((function(e){return e!==t}))}function d(){for(var e in c)c[e]=[]}function h(e,t){c[e].forEach((function(e){return e&&e(t)}))}document.addEventListener("mousemove",(function(e){h("mousemove",e)})),document.addEventListener("mouseup",(function(e){h("mouseup",e)})),document.addEventListener("mousedown",(function(e){h("mousedown",e)})),document.addEventListener("keydown",(function(e){h("keydown",e)})),document.addEventListener("touchstart",(function(e){h("touchstart",e)})),document.addEventListener("touchmove",(function(e){h("touchmove",e)})),document.addEventListener("touchend",(function(e){h("touchend",e)})),document.addEventListener("copy",(function(e){h("copy",e)})),document.addEventListener("paste",(function(e){h("paste",e)})),document.addEventListener("cut",(function(e){h("cut",e)})),document.addEventListener("load",(function(e){h("load",e)}));var f={on:a,off:u,clear:d,broadcast:h},m=(n("ac1f"),n("466d"),n("b0c0"),n("fb6a"),{37:1,38:1,39:1,40:1});function p(e){e.preventDefault()}function v(e){if(m[e.keyCode])return p(e),!1}var w=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){w=!0}}))}catch(_n){}var g=!!w&&{passive:!1},b="onwheel"in document.createElement("div")?"wheel":"mousewheel";function _(e){return String.fromCharCode(65+e)}function y(e){return JSON.parse(JSON.stringify(e))}function C(e){for(var t=[0],n=1;n<=e;n++){t[0]+=1;for(var o=0;o<t.length;o++)t[o]>25&&(t.length>o+1?t[o+1]+=1:t[o+1]=0,t[o]=0)}for(var i="",s=0,l=t;s<l.length;s++){var r=l[s];i=_(r)+i}return i}function x(e){return 1===e.length&&(e.match(/\d|\w|[а-яА-Я]/i)||-1!=["_","-","+","=","!","@","#","$","%","^","&","*","(",")","|","\\","/","[","]","{","}",",",".","?","`","~","'",'"',":",";","<",">"].indexOf(e))}function S(e,t){var n=document.createRange();n.selectNodeContents(e),t&&n.collapse(!1);var o=window.getSelection();o.removeAllRanges(),o.addRange(n)}function k(e){e.addEventListener("DOMMouseScroll",p,!1),e.addEventListener(b,p,g),e.addEventListener("touchmove",p,g),e.addEventListener("keydown",v,!1)}function O(e){e.removeEventListener("DOMMouseScroll",p,!1),e.removeEventListener(b,p,g),e.removeEventListener("touchmove",p,g),e.removeEventListener("keydown",v,!1)}function E(e,t){while(-1==t.indexOf(e)&&e)e=e.parentElement;return!!e}function $(e){var t=document.createElement("input");t.type="file",t.onchange=function(t){var n,o,i=t.target.files[0],s=i.name.lastIndexOf(".");-1==s?(n=i.name,o=""):(o=i.name.slice(i.name.lastIndexOf(".")+1),n=i.name.slice(0,i.name.lastIndexOf("."))),e({getContentAsync:function(e){var t=new FileReader;t.readAsText(i,"UTF-8"),t.onload=function(t){return e(t.target.result)}},name:n,ext:o,file:i})},t.click()}function T(e,t){var n=document.createElement("a");n.download=t,n.href=e,document.body.appendChild(n),n.click(),document.body.removeChild(n)}function z(e,t,n){T("data:"+e+","+encodeURIComponent(n),t)}var D={props:{items:{type:Array},index:{type:Number,default:0},value:{type:String}},data:function(){return{selectedValue:null,selectedIndex:0,preSelectedIndex:0,isOpened:!1}},watch:{index:function(){this.selectedIndex=this.index,this.selectedValue=this.items[this.selectedIndex],this.$emit("valuechanged",{value:this.selectedValue,index:this.selectedIndex})}},methods:{toggle:function(){this.isOpened||(this.preSelectedIndex=this.selectedIndex),this.isOpened=!this.isOpened},select:function(e){this.selectedIndex=e,this.selectedValue=this.items[this.selectedIndex],this.$emit("input",this.selectedValue),this.$emit("valuechanged",{value:this.selectedValue,index:this.selectedIndex}),this.isOpened=!1},mouseup:function(e){E(e.target,[this.$refs.select])||(this.isOpened=!1)}},created:function(){this.index?(this.selectedIndex=this.index,this.selectedValue=this.items[this.selectedIndex],this.$emit("valuechanged",{value:this.selectedValue,index:this.selectedIndex})):this.selectedValue=this.items[this.selectedIndex],f.on("mouseup",this.mouseup)},mounted:function(){}},R=D,j=(n("e88b"),n("2877")),P=Object(j["a"])(R,l,r,!1,null,"46fd6e88",null),V=P.exports,L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"table",staticClass:"table"},[n("div",{staticClass:"table__free-space",on:{click:e.selectAll}}),n("div",{staticClass:"table__row-headers-wrapper"},[n("div",{ref:"row_headers_scroll",staticClass:"table__scroll table__scroll-withoutScrollbar table__row-headers-scroll"},[n("div",{staticClass:"table__row-headers"},e._l(e.table.rows,(function(e,t){return n("RowHeader",{key:t,attrs:{rowid:t}})})),1)])]),n("div",{ref:"column_headers",staticClass:"table__column-headers-wrapper"},[n("div",{ref:"column_headers_scroll",staticClass:"table__scroll table__scroll-withoutScrollbar"},[n("div",{staticClass:"table__column-headers"},e._l(e.table.columns,(function(e,t){return n("ColumnHeader",{key:t,attrs:{columnid:t}})})),1)])]),n("div",{ref:"table_viewer",staticClass:"table__scroll",on:{scroll:e.contentScroll}},[n("div",{staticClass:"table__content"},e._l(e.table.rows,(function(t,o){return n("CellRow",{key:o,attrs:{rowid:o,focused:e.focused},on:{cellEditingStart:function(t){e.isCellEditing=!0},cellEditingEnd:function(t){e.isCellEditing=!1}}})})),1)])])},K=[],I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"rowheader",staticClass:"table__header row-header",on:{mousedown:e.mousedown,mousemove:e.mousemove}},[e._v(" "+e._s(e.rowid+1)+" "),n("div",{ref:"header_resizer",staticClass:"row-header__resizer",on:{mousedown:e.resizeStart}})])},N=[],M=n("b85c"),A=(n("a434"),n("d3b7"),[]),B={},J=!1,U={default:{row:{height:20},column:{width:100}},rows:[],columns:[],cells:[]},q=-1,F=-1,H=-1,X=-1,Y=null;function W(){f.on("tablechanged",Z),f.on("mousemove",ue),f.on("touchmove",ue),f.on("mouseup",de),f.on("touchend",de),f.on("touchmove",me);var e=localStorage.getItem("table");if(e)e=JSON.parse(e),f.broadcast("tablechanged",{table:e});else{for(var t=0;t<50;t++)U.rows.push(y(U.default.row));for(var n=0;n<50;n++)U.columns.push(y(U.default.column))}f.on("tablechanged",ee),f.on("cellchanged",ee),f.on("rowsizechanged",ee),f.on("columnsizechanged",ee)}function G(e){Y=e}function Q(){return Y}function Z(e){U.default=e.table.default,U.rows=e.table.rows,U.columns=e.table.columns,U.cells=e.table.cells,U.name=e.table.name;for(var t=0;t<U.rows.length;t++)f.broadcast("rowsizechanged",{row:t,value:U.rows[t].height});for(var n=0;n<U.columns.length;n++)f.broadcast("columnsizechanged",{column:n,value:U.columns[n].width})}function ee(){localStorage.setItem("table",JSON.stringify(U))}function te(){var e,t=Object(M["a"])(we());try{for(t.s();!(e=t.n()).done;){var n=e.value;ne(n.row,n.column,{content:null})}}catch(o){t.e(o)}finally{t.f()}}function ne(e,t,n){U.cells[e][t]=n,f.broadcast("cellchanged",{row:e,column:t,value:n})}function oe(e,t){return U.cells[e]&&U.cells[e][t]||(U.cells[e]||(U.cells[e]=[]),U.cells[e][t]={content:null}),U.cells[e][t]}function ie(e){U.rows.splice(e,0,y(U.default.row)),U.cells.splice(e,0,[]),f.broadcast("cellchanged",{predicate:function(t,n){return t>=e}});for(var t=e;t<U.rows.length;t++)f.broadcast("rowsizechanged",{row:t,value:U.rows[t].height})}function se(e){U.rows=U.rows.filter((function(t,n){return n!=e})),U.cells=U.cells.filter((function(t,n){return n!=e})),f.broadcast("cellchanged",{predicate:function(t,n){return t>=e}});for(var t=e;t<U.rows.length;t++)f.broadcast("rowsizechanged",{row:t,value:U.rows[t].height})}function le(e){U.columns.splice(e,0,y(U.default.column));for(var t=0;t<U.rows.length;t++)U.cells[t].splice(e,0,{content:null});f.broadcast("cellchanged",{predicate:function(t,n){return n>=e}});for(var n=e;n<U.columns.length;n++)f.broadcast("columnsizechanged",{column:n,value:U.columns[n].width})}function re(e){U.columns=U.columns.filter((function(t,n){return n!=e}));for(var t=0;t<U.rows.length;t++)U.cells[t]=U.cells[t].filter((function(t,n){return n!=e}));f.broadcast("cellchanged",{predicate:function(t,n){return n>=e}});for(var n=e;n<U.columns.length;n++)f.broadcast("columnsizechanged",{column:n,value:U.columns[n].width})}function ce(e,t){q=e,F=t.target.parentElement.getBoundingClientRect().top}function ae(e,t){H=e,X=t.target.parentElement.getBoundingClientRect().left}function ue(e){if(-1!=q){var t=(e.clientY?e.clientY:e.touches[0].clientY)-F;t>5&&(U.rows[q].height=t),f.broadcast("rowsizechanged",{row:q,value:t})}if(-1!=H){var n=(e.clientX?e.clientX:e.touches[0].clientX)-X;n>5&&(U.columns[H].width=n),f.broadcast("columnsizechanged",{column:H,value:n})}}function de(e){q=-1,H=-1,J=!1}function he(e){if(-1==q&&-1==H){if(e.ev.shiftKey)return e.move=!0,void fe(e);J=!0,e.ev.ctrlKey||e.ev.shiftKey||pe(),A.push({row:e.row,column:e.column}),e.index=A.length,B.start=e,f.broadcast("selectionchanged",null)}}function fe(e){if(J||e.move){B.end=e;var t=Math.min(B.start.row,e.row),n=Math.max(B.start.row,e.row),o=Math.min(B.start.column,e.column),i=Math.max(B.start.column,e.column);pe(B.start.index),t==n&&0==o&&i==U.columns.length-1?A.push({row:t}):o==i&&0==t&&n==U.rows.length-1?A.push({column:o}):A.push({startRow:t,endRow:n,startColumn:o,endColumn:i}),f.broadcast("selectionchanged",null)}}function me(e){var t=document.elementFromPoint(e.touches[0].clientX,e.touches[0].clientY);t&&J&&(t=t.__vue__,t&&("Cell"==t.$options._componentTag?fe({row:t.rowid,column:t.columnid,ev:e}):"RowHeader"==t.$options._componentTag?fe({row:t.rowid,column:U.columns.length-1,ev:e}):"ColumnHeader"==t.$options._componentTag&&fe({row:U.rows.length-1,column:t.columnid,ev:e})))}function pe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];while(A.length>e)A.pop();1==t&&f.broadcast("selectionchanged",null)}function ve(){pe(),he({row:0,column:0,ev:{}}),A.push(null),J=!1,f.broadcast("selectionchanged",null)}function we(){var e,t=B.start,n=[],o=Object(M["a"])(A);try{for(o.s();!(e=o.n()).done;){var i=e.value;if(null==i){for(var s=0;s<U.rows.length;s++)for(var l=0;l<U.columns.length;l++)n.push({row:s,column:l});break}if(void 0==i.column&&i.row==t.row)for(var r=0;r<U.columns.length;r++)n.push({row:t.row,column:r});else if(void 0==i.row&&i.column==t.column)for(var c=0;c<U.rows.length;c++)n.push({row:c,column:t.column});else if(void 0!=i.row&&void 0!=i.column)n.push({row:i.row,column:i.column});else for(var a=i.startRow;a<=i.endRow;a++)for(var u=i.startColumn;u<=i.endColumn;u++)n.push({row:a,column:u})}}catch(d){o.e(d)}finally{o.f()}return n}var ge={value:null,__value:null};function be(e,t,n,o){U.cells[t][n]&&o.cells.push({row:t-e.row,column:n-e.column,cell:U.cells[t][n]})}function _e(){var e,t={cells:[]},n=B.start,o=Object(M["a"])(we());try{for(o.s();!(e=o.n()).done;){var i=e.value;be(n,i.row,i.column,t)}}catch(s){o.e(s)}finally{o.f()}return t}function ye(){ge.value=JSON.stringify(_e())}function Ce(e,t,n,o){while(U.rows.length<=e.row+t)U.rows.push(y(U.default.row));while(U.columns.length<=e.column+n)U.columns.push(y(U.default.column));U.cells[e.row+t]||(U.cells[e.row+t]=[]),ne(e.row+t,e.column+n,o),A.push({row:e.row+t,column:e.column+n})}function xe(e){if(B.start&&e&&e.cells){pe(0);var t,n=Object(M["a"])(e.cells);try{for(n.s();!(t=n.n()).done;){var o=t.value;Ce(B.start,o.row,o.column,o.cell)}}catch(i){n.e(i)}finally{n.f()}f.broadcast("selectionchanged",null)}}function Se(){ge.value.then((function(e){xe(JSON.parse(e))}))}function ke(){ye(),te()}navigator.clipboard?Object.defineProperty(ge,"value",{get:function(){return navigator.clipboard.readText()},set:function(e){navigator.clipboard.writeText(e).then(null,(function(){console.log("clipboard write failed")}))}}):Object.defineProperty(ge,"value",{get:function(){return new Promise((function(e,t){return e(ge.__value)}))},set:function(e){ge.__value=e}});var Oe={setViewer:G,getViewer:Q,init:W,clearSelected:te,getCell:oe,setCell:ne,addRow:ie,deleteRow:se,addColumn:le,deleteColumn:re,rowResizeStart:ce,columnResizeStart:ae,resizeMove:ue,resizeEnd:de,selectionStart:he,selectionMove:fe,clearSelection:pe,selectAll:ve,getSelectedCells:we,getCopyObj:_e,pasteFromObj:xe,copy:ye,paste:Se,cut:ke},Ee={props:{rowid:{type:Number,required:!0}},methods:{mousedown:function(e){Oe.selectionStart({row:this.rowid,column:e.shiftKey?U.columns.length-1:0,ev:e}),Oe.selectionMove({row:this.rowid,column:U.columns.length-1,ev:e})},mousemove:function(e){Oe.selectionMove({row:this.rowid,column:U.columns.length-1,ev:e})},resizeStart:function(e){Oe.rowResizeStart(this.rowid,e)},rowsizechanged:function(e){e.row==this.rowid&&this.$refs.rowheader&&(this.$refs.rowheader.style.height=e.value+"px")}},created:function(){f.on("rowsizechanged",this.rowsizechanged)},mounted:function(){this.rowsizechanged({row:this.rowid,value:U.rows[this.rowid].height}),this.$refs.rowheader.addEventListener("touchstart",this.mousedown),this.$refs.header_resizer.addEventListener("touchstart",this.resizeStart)}},$e=Ee,Te=(n("4845"),Object(j["a"])($e,I,N,!1,null,"144af70f",null)),ze=Te.exports,De=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"columnheader",staticClass:"table__header column-header",on:{mousedown:e.mousedown,mousemove:e.mousemove}},[e._v(" "+e._s(e.numToLetters(e.columnid))+" "),n("div",{ref:"header_resizer",staticClass:"column-header__resizer",on:{mousedown:e.resizeStart}})])},Re=[],je={props:{columnid:{type:Number,required:!0}},methods:{numToLetters:C,mousedown:function(e){Oe.selectionStart({row:e.shiftKey?U.rows.length-1:0,column:this.columnid,ev:e}),Oe.selectionMove({row:U.rows.length-1,column:this.columnid,ev:e})},mousemove:function(e){Oe.selectionMove({row:U.rows.length-1,column:this.columnid,ev:e})},resizeStart:function(e){Oe.columnResizeStart(this.columnid,e)},columnsizechanged:function(e){e.column==this.columnid&&this.$refs.columnheader&&(this.$refs.columnheader.style.width=e.value+"px")}},created:function(){f.on("columnsizechanged",this.columnsizechanged)},mounted:function(){this.columnsizechanged({column:this.columnid,value:U.columns[this.columnid].width}),this.$refs.columnheader.addEventListener("touchstart",this.mousedown),this.$refs.header_resizer.addEventListener("touchstart",this.resizeStart)}},Pe=je,Ve=(n("270c"),Object(j["a"])(Pe,De,Re,!1,null,"169104c3",null)),Le=Ve.exports,Ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"cellrow",staticClass:"wrapper"},e._l(e.table.columns,(function(t,o){return n("div",{key:o,staticClass:"cellrow"},[n("Cell",{attrs:{rowid:e.rowid,columnid:o,focused:e.focused},on:{cellEditingStart:function(t){return e.$emit("cellEditingStart",t)},cellEditingEnd:function(t){return e.$emit("cellEditingEnd",t)}}})],1)})),0)},Ie=[],Ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"editor",staticClass:"cell",class:{"cell-editing":e.isEditing},attrs:{contenteditable:e.isEditing,autofocus:""},domProps:{textContent:e._s(e.content)},on:{keydown:e.onKeyPress,blur:e.onUnfocus,dblclick:function(t){return e.onFocus(!1)},mousedown:e.onMouseDown,mousemove:e.onMouseMove}})},Me=[],Ae={props:{rowid:{type:Number,required:!0},columnid:{type:Number,required:!0},focused:{type:Boolean,required:!0}},data:function(){return{isEditing:!1,content:null,isTouchEnd:!1}},methods:{onMouseDown:function(e){this.isEditing||Oe.selectionStart({row:this.rowid,column:this.columnid,ev:e})},onMouseMove:function(e){Oe.selectionMove({row:this.rowid,column:this.columnid,ev:e})},onTouchStart:function(e){var t=this;this.isTouchEnd=!1;var n={top:Oe.getViewer().scrollTop,left:Oe.getViewer().scrollLeft};setTimeout((function(){var o=Oe.getViewer().scrollTop,i=Oe.getViewer().scrollLeft;1!=t.isTouchEnd&&n.top+10>=o&&n.top-10<=o&&n.left+10>=i&&n.left-10<=i&&(k(Oe.getViewer()),t.onMouseDown(e))}),500)},onTouchEnd:function(e){this.isTouchEnd=!0,O(Oe.getViewer())},onFocus:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isEditing=!0,A.unshift({row:this.rowid,column:this.columnid}),Oe.clearSelection(1,!0),this.$emit("cellEditingStart",{row:this.rowid,column:this.columnid}),setTimeout((function(){e.$refs.editor.focus(),S(e.$refs.editor,t)}),10)},onUnfocus:function(e){this.updateContent(),this.$emit("cellEditingEnd",{row:this.rowid,column:this.columnid}),this.isEditing=!1},onKeyPress:function(e){"Enter"!==e.code&&"Tab"!==e.code||e.shiftKey||(e.preventDefault(),this.updateContent(),this.isEditing=!1,"Enter"===e.code&&B.start.row+1<U.rows.length?B.start.row+=1:"Tab"===e.code&&B.start.column+1<U.columns.length&&(B.start.column+=1),A.unshift({row:B.start.row,column:B.start.column}),Oe.clearSelection(1,!0))},getCell:function(){return Oe.getCell(this.rowid,this.columnid)},globalKeyPress:function(e){this.focused&&!e.ctrlKey&&x(e.key)&&!this.isEditing&&this.isSelected(this.rowid,this.columnid)&&this.isStartCell()&&(this.content=this.content?this.content+e.key:e.key,this.onFocus(!0))},updateContent:function(){this.content=this.$refs.editor.innerText,this.getCell().content=this.content,f.broadcast("cellchanged",{})},isStartCell:function(){return B.start.row==this.rowid&&B.start.column==this.columnid},isSelected:function(e,t){if(e<0||e>=U.rows.length||t<0||t>=U.columns.length)return!1;var n,o=Object(M["a"])(A);try{for(o.s();!(n=o.n()).done;){var i=n.value;if(null==i)return!0;if(void 0==i.column&&i.row==e)return!0;if(void 0==i.row&&i.column==t)return!0;if(i.row==e&&i.column==t)return!0;if(i.startColumn<=t&&i.endColumn>=t&&i.startRow<=e&&i.endRow>=e)return!0}}catch(s){o.e(s)}finally{o.f()}return!1},onSelectionSelectionChanged:function(){if(this.$refs.editor){if(!this.isSelected(this.rowid,this.columnid))return this.$refs.editor.style.border=null,this.$refs.editor.style.boxSizing=null,void(this.$refs.editor.style.background=null);this.$refs.editor.style.boxSizing="border-box";var e="2px solid green";this.isSelected(this.rowid-1,this.columnid)?this.$refs.editor.style.borderTop=null:this.$refs.editor.style.borderTop=e,this.isSelected(this.rowid,this.columnid+1)?this.$refs.editor.style.borderRight=null:this.$refs.editor.style.borderRight=e,this.isSelected(this.rowid+1,this.columnid)?this.$refs.editor.style.borderBottom=null:this.$refs.editor.style.borderBottom=e,this.isSelected(this.rowid,this.columnid-1)?this.$refs.editor.style.borderLeft=null:this.$refs.editor.style.borderLeft=e,this.isStartCell()?this.$refs.editor.style.background=null:this.$refs.editor.style.background="lightgrey"}},columnsizechanged:function(e){e.column==this.columnid&&this.$refs.editor&&(this.$refs.editor.style.width=e.value+"px")},cellchanged:function(e){(e.row==this.rowid&&e.column==this.columnid||void 0!=e.predicate&&e.predicate(this.rowid,this.columnid))&&(this.content=e.value?e.value.content:this.getCell().content)},tablechanged:function(e){this.content=this.getCell().content}},created:function(){f.on("columnsizechanged",this.columnsizechanged),f.on("keydown",this.globalKeyPress),f.on("selectionchanged",this.onSelectionSelectionChanged),f.on("cellchanged",this.cellchanged),f.on("tablechanged",this.tablechanged)},mounted:function(){this.columnsizechanged({column:this.columnid,value:U.columns[this.columnid].width}),this.content=this.getCell().content,this.onSelectionSelectionChanged(),this.$refs.editor.addEventListener("touchstart",this.onTouchStart),this.$refs.editor.addEventListener("touchend",this.onTouchEnd)}},Be=Ae,Je=(n("7439"),Object(j["a"])(Be,Ne,Me,!1,null,"891e7b90",null)),Ue=Je.exports,qe={components:{Cell:Ue},props:{rowid:{type:Number,required:!0},focused:{type:Boolean,required:!0}},data:function(){return{table:U}},methods:{rowsizechanged:function(e){e.row==this.rowid&&this.$refs.cellrow&&(this.$refs.cellrow.style.height=e.value+"px")}},created:function(){f.on("rowsizechanged",this.rowsizechanged)},mounted:function(){this.rowsizechanged({row:this.rowid,value:U.rows[this.rowid].height})}},Fe=qe,He=(n("356f"),Object(j["a"])(Fe,Ke,Ie,!1,null,"3a4c9e48",null)),Xe=He.exports,Ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("table",{staticClass:"popup savefile"},[n("tr",[n("td",{staticClass:"popup__text"},[e._v("Format:")]),n("td",{staticClass:"popup__control"},[n("Select",{attrs:{items:e.formatnames},on:{valuechanged:function(t){e.index=t.index}}})],1)]),n("tr",[n("td",{staticClass:"popup__text"},[e._v("File name:")]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.filename,expression:"filename"}],staticClass:"popup__control input",attrs:{type:"text"},domProps:{value:e.filename},on:{input:function(t){t.target.composing||(e.filename=t.target.value)}}})])]),2==e.index?n("tr",[n("td",{staticClass:"popup__text"},[e._v("Delimiter:")]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.delimiter,expression:"delimiter"}],staticClass:"popup__control input",attrs:{type:"text"},domProps:{value:e.delimiter},on:{input:function(t){t.target.composing||(e.delimiter=t.target.value)}}})])]):e._e(),n("tr",[n("td",{attrs:{colspan:"2"}},[n("div",{staticClass:"popup__container"},[n("div",{staticClass:"button",on:{click:function(t){return e.$emit("close")}}},[e._v(" Cancel ")]),n("div",{staticClass:"button green",on:{click:e.download}},[e._v(" Download ")])])])])])},We=[],Ge={};function Qe(){localStorage.setItem("config",JSON.stringify(Ge))}function Ze(){var e=JSON.parse(localStorage.getItem("config"));e&&(Ge=e),nt()}function et(e,t){Ge[e]=t,nt()}function tt(e){return Ge[e]}function nt(){f.broadcast("configchanged",Ge)}function ot(e){f.on("configchanged",e),e(Ge)}Ze(),f.on("configchanged",Qe);var it={set:et,get:tt,save:Qe,load:Ze,changed:nt,onchanged:ot};function st(){return JSON.stringify(U)}function lt(e){f.broadcast("tablechanged",{table:JSON.parse(e)})}var rt={getString:st,load:lt},ct="\n",at=["\r","\n"];function ut(e){var t,n=0,o=Object(M["a"])(e);try{for(o.s();!(t=o.n()).done;){var i=t.value;-1==at.indexOf(i)&&n++}}catch(s){o.e(s)}finally{o.f()}return n}function dt(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o="";function i(e,t){for(var n=0;n<e;n++)o+=t}if(1==n&&A.length>0){if(t={startRow:A[0].row,endRow:A[0].row,startColumn:A[0].column,endColumn:A[0].column},A.length>=2){var s=A[1];t=null==s?{startRow:0,endRow:U.rows.length-1,startColumn:0,endColumn:U.columns.length-1}:void 0==s.column&&void 0!=s.row?{startRow:s.row,endRow:s.row,startColumn:0,endColumn:U.columns.length-1}:void 0==s.row&&void 0!=s.column?{startRow:0,endRow:U.rows.length-1,startColumn:s.column,endColumn:s.column}:void 0!=s.row&&void 0!=s.column?{startRow:s.row,endRow:s.row,startColumn:s.column,endColumn:s.column}:s}}else t={startRow:0,endRow:U.rows.length-1,startColumn:0,endColumn:U.columns.length-1};for(var l=t.startRow;l<=t.endRow;l++){U.rows[l];for(var r=[],c=t.startColumn;c<=t.endColumn;c++){var a=U.columns[c],u=a.width/6.5,d=[],h=Oe.getCell(l,c);if(h.content){for(var f=[],m=0,p=0;p<h.content.length;p++){var v=h.content[p];f[m]||(f[m]="")," "==v||"\n"==v?f[m++]+=v:f[m]+=v}for(var w=0,g=0;g<f.length;g++){var b=f[g];if(b.length>u||-1!=b.indexOf("\n")){d[w]||(d[w]=""),-1!=b.indexOf("\n")&&(d[w]+b).length>u&&w++;var _,y=Object(M["a"])(b);try{for(y.s();!(_=y.n()).done;){var C=_.value;"\n"==C&&(d[++w]="\n",w++),d[w]||(d[w]=""),d[w].length>u&&w++,d[w]||(d[w]=""),"\n"!=C&&(d[w]+=C)}}catch(B){y.e(B)}finally{y.f()}}else d[w]||(d[w]=""),(d[w]+b).length>u&&w++,d[w]||(d[w]=""),d[w]+=b}}var x=[],S=0;c==t.endColumn?l==t.startRow?(c==t.startColumn?o+=e[2]:o+=e[3],i(u,e[0]),o+=e[4]+ct):(c==t.startColumn?o+=e[5]:o+=e[6],i(u,e[0]),o+=e[7]+ct):(c==t.startColumn?l==t.startRow?o+=e[2]:o+=e[5]:l==t.startRow?o+=e[3]:o+=e[6],i(u,e[0]));for(var k=0,O=d;k<O.length;k++){var E=O[k];x[S]||(x[S]=""),((x[S]+E).length>u+1||"\n"==E)&&S++,x[S]||(x[S]=""),"\n"!=E&&(x[S]+=E)}r[c-t.startColumn]={cell:x,columnwidth:u}}for(var $=0,T=0,z=r;T<z.length;T++){var D=z[T];D.cell.length>$&&($=D.cell.length)}for(var R=0;R<$;R++){var j,P=Object(M["a"])(r);try{for(P.s();!(j=P.n()).done;){var V=j.value,L=Math.ceil(($-V.cell.length)/2),K="";R>=L&&V.cell[R-L]&&(K=V.cell[R-L]);var I=Math.ceil((V.columnwidth-ut(K))/2);o+=e[1],i(I,e[11]),o+=K,i(V.columnwidth-I-ut(K),e[11])}}catch(B){P.e(B)}finally{P.f()}o+=e[1]+ct}if(l==t.endRow)for(var N=0;N<r.length;N++)0==N?(o+=e[8],i(r[N].columnwidth,e[12]),N==r.length-1&&(o+=e[10])):N==r.length-1?(o+=e[9],i(r[N].columnwidth,e[12]),o+=e[10]):(o+=e[9],i(r[N].columnwidth,e[12]))}return o}var ht={generateTextTable:dt},ft=(n("a630"),n("3ca3"),n("5319"),"\n"),mt=['"',"\r","\n"];function pt(e){for(var t="",n=0;n<U.rows.length;n++){for(var o=0;o<U.columns.length;o++){var i=Oe.getCell(n,o).content;!i||0==Array.from(i).filter((function(e){return-1!=mt.indexOf(e)})).length&&-1==i.indexOf(e)?t+=i||"":(i=i.replace('"','""'),t+='"'+i+'"'),o!=U.columns.length-1&&(t+=e)}n!=U.rows.length-1&&(t+=ft)}return t}function vt(e,t,n,o){for(var i={name:n,default:o,rows:[],columns:[],cells:[[{content:""}]]},s=0,l=0,r=!1,c=0;c<t.length;c++)'"'==t[c]?r?r&&('"'==t[c+1]?(c++,i.cells[l][s].content+='"'):r=!1):r=!0:c+e.length<=t.length&&t.substr(c,e.length)==e&&0==r?(c+=e.length-1,i.cells[l][++s]={content:""}):"\n"==t[c]&&0==r?(i.cells[++l]=[{content:""}],s=0):i.cells[l][s].content+=t[c];var a,u=Object(M["a"])(i.cells);try{for(u.s();!(a=u.n()).done;){var d=a.value;while(i.columns.length<d.length)i.columns.push(y(i.default.column));i.rows.push(y(i.default.row))}}catch(h){u.e(h)}finally{u.f()}f.broadcast("tablechanged",{table:i})}var wt={getString:pt,load:vt},gt={components:{Select:V},data:function(){var e=this;return{filename:"table",formatnames:["JSON","TXT - text representation of table","CSV"],formats:[{mimetype:"application/json",ext:"json",getContent:rt.getString},{mimetype:"text/plain",ext:"txt",getContent:function(){return ht.generateTextTable("─│┌┬┐├┼┤└┴┘ ─",!1)}},{mimetype:"text/csv",ext:"csv",getContent:function(){return wt.getString(e.delimiter)}}],delimiter:";",index:0}},methods:{download:function(){it.set("delimiter",this.delimiter),U.name=this.filename;var e=this.formats[this.index];z(e.mimetype,this.filename+"."+e.ext,e.getContent())},tablechanged:function(e){e.table.name?this.filename=e.table.name:this.filename="table"}},created:function(){var e=this;tablechanged({table:U}),f.on("tablechanged",tablechanged),it.onchanged((function(t){t.delimiter&&(e.delimiter=t.delimiter)}))}},bt=gt,_t=(n("7ab0"),Object(j["a"])(bt,Ye,We,!1,null,"0665f86c",null)),yt=_t.exports,Ct={components:{RowHeader:ze,ColumnHeader:Le,CellRow:Xe},data:function(){return{focused:!0,isCellEditing:!1,table:U}},methods:{selectAll:Oe.selectAll,contentScroll:function(e){this.$refs.column_headers_scroll.scrollTo(e.target.scrollLeft,0),this.$refs.row_headers_scroll.scrollTo(0,e.target.scrollTop)},select:function(e,t,n){var o={row:B.start.row+e,column:B.start.column+t};o.row>=0&&o.row<U.rows.length&&o.column>=0&&o.column<U.columns.length&&(n?(B.start.save||(B.start.save=y(B.start),B.start.index=A.length),B.start.row=o.row,B.start.column=o.column,Oe.selectionMove({move:!0,row:B.start.save.row,column:B.start.save.column})):(B.start=o,A.unshift({row:B.start.row,column:B.start.column}),Oe.clearSelection(1,!0)))},keyPress:function(e){e.ctrlKey&&"KeyS"==e.code&&(f.broadcast("openpopup",{component:yt}),e.preventDefault()),this.focused&&!this.isCellEditing&&(e.ctrlKey&&"KeyA"==e.code?Oe.selectAll():"Delete"==e.code?Oe.clearSelected():"ArrowUp"==e.code?e.ctrlKey?this.select(-B.start.row,0,e.shiftKey):this.select(-1,0,e.shiftKey):"ArrowDown"==e.code?e.ctrlKey?this.select(U.rows.length-B.start.row-1,0,e.shiftKey):this.select(1,0,e.shiftKey):"ArrowLeft"==e.code?e.ctrlKey?this.select(0,-B.start.column,e.shiftKey):this.select(0,-1,e.shiftKey):"ArrowRight"==e.code?e.ctrlKey?this.select(0,U.columns.length-B.start.column-1,e.shiftKey):this.select(0,1,e.shiftKey):e.ctrlKey&&("KeyI"==e.code?(Oe.addRow(B.start.row),e.preventDefault()):"KeyK"==e.code?(Oe.addRow(B.start.row+1),e.preventDefault()):"KeyJ"==e.code?(Oe.addColumn(B.start.column),e.preventDefault()):"KeyL"==e.code?(Oe.addColumn(B.start.column+1),e.preventDefault()):"KeyU"==e.code?(Oe.deleteRow(B.start.row),e.preventDefault()):"KeyO"==e.code&&(Oe.deleteColumn(B.start.column),e.preventDefault())))},globalMouseUp:function(e){this.focused=E(e.target,[this.$refs.table])},handleCopy:function(e){this.focused&&!this.isCellEditing&&(e.preventDefault(),e.clipboardData.setData("text/plain",JSON.stringify(Oe.getCopyObj())))},handlePaste:function(e){this.focused&&!this.isCellEditing&&(e.preventDefault(),Oe.pasteFromObj(JSON.parse(e.clipboardData.getData("text/plain"))))},handleCut:function(e){this.focused&&!this.isCellEditing&&(this.handleCopy(e),Oe.clearSelected())}},created:function(){f.on("keydown",this.keyPress),f.on("mouseup",this.globalMouseUp),f.on("copy",this.handleCopy),f.on("paste",this.handlePaste),f.on("cut",this.handleCut)},mounted:function(){k(this.$refs.column_headers_scroll),k(this.$refs.row_headers_scroll),Oe.setViewer(this.$refs.table_viewer)}},xt=Ct,St=(n("5a45"),Object(j["a"])(xt,L,K,!1,null,"6029e254",null)),kt=St.exports,Ot=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowed,expression:"isShowed"}],staticClass:"texttable"},[n("div",{staticClass:"texttable__wrapper",style:{"font-size":e.fontSize+"px"}},[n("div",{ref:"content",staticClass:"texttable__content"},[e._v(e._s(e.content))])]),n("div",{staticClass:"texttable__container"},[n("Select",{staticClass:"texttable__select",attrs:{items:e.borderTypesPreview,index:e.selectedBorderTypeIndex},on:{valuechanged:e.borderchanged}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.fontSize,expression:"fontSize"}],attrs:{type:"range",min:"1",max:"20"},domProps:{value:e.fontSize},on:{__r:function(t){e.fontSize=t.target.value}}})],1),n("div",{staticClass:"texttable__container"},[n("div",{staticClass:"texttable__checkbox checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.useSelect,expression:"useSelect"}],attrs:{type:"checkbox",name:"useSelect"},domProps:{checked:Array.isArray(e.useSelect)?e._i(e.useSelect,null)>-1:e.useSelect},on:{change:function(t){var n=e.useSelect,o=t.target,i=!!o.checked;if(Array.isArray(n)){var s=null,l=e._i(n,s);o.checked?l<0&&(e.useSelect=n.concat([s])):l>-1&&(e.useSelect=n.slice(0,l).concat(n.slice(l+1)))}else e.useSelect=i}}}),n("label",{staticClass:"texttable__label",attrs:{for:"useSelect"}},[e._v("Use select")])]),n("div",{staticClass:"texttable__button button",on:{click:e.copy}},[e._v("Copy")]),n("div",{staticClass:"texttable__button button",on:{click:e.update}},[e._v("Update table")])])])},Et=[],$t={components:{Select:V},data:function(){var e=["─│┌┬┐├┼┤└┴┘ ─","═║╔╦╗╠╬╣╚╩╝ ═","─║╓╥╖╟╫╢╙╨╜ ─","═│╒╤╕╞╪╡╘╧╛ ═","▀██████████ ▄","─│╭┬╮├┼┤╰┴╯ ─","─ ───────── ─"," ││││││││││  "];return{isShowed:!1,content:null,fontSize:10,useSelect:!1,borderTypes:e,selectedBorderTypeIndex:0}},watch:{fontSize:function(){it.set("fontSize",this.fontSize)},useSelect:function(){it.set("useSelect",this.useSelect),this.update()}},computed:{borderTypesPreview:function(){var e,t=[],n=Object(M["a"])(this.borderTypes);try{for(n.s();!(e=n.n()).done;){var o=e.value;t.push(this.getPreview(o))}}catch(i){n.e(i)}finally{n.f()}return t}},methods:{getPreview:function(e){return e[2]+e[0]+e[0]+e[6]+e[0]+e[0]+e[9]+e[0]+e[0]+e[10]},borderchanged:function(e){it.set("selectedBorderTypeIndex",this.selectedBorderTypeIndex=e.index),this.update()},update:function(){this.isShowed&&(!this.useSelect||B.start?this.content=ht.generateTextTable(this.borderTypes[this.selectedBorderTypeIndex],this.useSelect):this.content="No selection")},copy:function(){S(this.$refs.content),document.execCommand("copy")}},created:function(){var e=this;f.on("cellchanged",this.update),it.onchanged((function(t){e.isShowed=t.isTextTableViewerShowed,t.selectedBorderTypeIndex&&(e.selectedBorderTypeIndex=t.selectedBorderTypeIndex),t.fontSize&&(e.fontSize=t.fontSize),t.useSelect&&(e.useSelect=t.useSelect)}))}},Tt=$t,zt=(n("6ebd"),Object(j["a"])(Tt,Ot,Et,!1,null,"678ad8fa",null)),Dt=zt.exports,Rt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"overlay",staticClass:"overlay",class:{visible:e.value},on:{mousedown:e.closePopup}},[n("div",{staticClass:"overlay__popup"},[n(e.component,{tag:"component",attrs:{data:e.data},on:{close:function(t){return e.setVisibility(!1)}}})],1)])},jt=[],Pt={props:{value:{type:Boolean,required:!0}},data:function(){return{component:null,data:{}}},methods:{setVisibility:function(e){this.$emit("input",e)},closePopup:function(e){e.target==this.$refs.overlay&&this.setVisibility(!1)},openpopup:function(e){this.data=e.data,this.component=e.component,this.setVisibility(!0)}},created:function(){var e=this;f.on("openpopup",this.openpopup),f.on("closepopup",(function(){return e.setVisibility(!1)}))}},Vt=Pt,Lt=(n("7592"),Object(j["a"])(Vt,Rt,jt,!1,null,"c336e16a",null)),Kt=Lt.exports,It=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"root",staticClass:"tools"},[n("div",{staticClass:"tools__container"},[n("DropdownButton",{attrs:{title:"Table",items:e.tabletab}}),n("DropdownButton",{attrs:{title:"Edit",items:e.edittab}}),n("DropdownButton",{attrs:{title:"Window",items:e.windowtab}})],1)])},Nt=[],Mt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{ref:"button",staticClass:"dropdown-button",class:{opened:e.z__isOpened},on:{click:e.click}},[e._v(" "+e._s(e.title)+" "),o("ul",{ref:"dropdown",staticClass:"dropdown-button__dropdown"},e._l(e.items,(function(t,i){return o("li",{key:i,staticClass:"dropdown-button__row",class:{disabled:t.__isDisabled,delimiter:"delimiter"==t.type,default:!t.type||"default"==t.type||"checkbox"==t.type},on:{click:function(n){t.click(n),e.isOpened=!1}}},["checkbox"==t.type&&t.__isChecked?o("img",{staticClass:"dropdown-button__icon",attrs:{src:n("7bae")}}):e._e(),o("div",{staticClass:"dropdown-button__content"},[o("div",[e._v(e._s(t.label))]),o("div",{staticClass:"dropdown-button__hotkey"},[e._v(" "+e._s(t.hotkey?t.hotkey.join("+"):"")+" ")])])])})),0)])},At=[],Bt={props:{items:{type:Array,required:!0},title:{type:String,required:!0}},data:function(){return{z__isOpened:!1}},computed:{isOpened:{get:function(){return this.z__isOpened},set:function(e){if(this.z__isOpened=e,this.z__isOpened){var t,n=Object(M["a"])(this.items);try{for(n.s();!(t=n.n()).done;){var o=t.value;o.isDisabled&&(o.__isDisabled=o.isDisabled()),"checkbox"==o.type&&(o.__isChecked=o.isChecked())}}catch(i){n.e(i)}finally{n.f()}}}}},methods:{click:function(e){e.target==this.$refs.button&&(this.isOpened=!this.isOpened)},mousedown:function(e){var t=e.target;while(t!=this.$refs.dropdown&&t!=this.$refs.button&&t)t=t.parentElement;t||(this.isOpened=!1)}},created:function(){f.on("mousedown",this.mousedown)}},Jt=Bt,Ut=(n("1c90"),Object(j["a"])(Jt,Mt,At,!1,null,"3df0e418",null)),qt=Ut.exports,Ft=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("table",[n("tr",[n("td",{staticClass:"popup__text"},[e._v("Columns:")]),n("td",{staticStyle:{"padding-right":"10px"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.columns,expression:"columns"}],staticClass:"popup__control input",attrs:{type:"text"},domProps:{value:e.columns},on:{input:function(t){t.target.composing||(e.columns=t.target.value)}}})]),n("td",{staticClass:"popup__text"},[e._v("Rows:")]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.rows,expression:"rows"}],staticClass:"popup__control input",attrs:{type:"text"},domProps:{value:e.rows},on:{input:function(t){t.target.composing||(e.rows=t.target.value)}}})])]),n("tr",[n("td",{staticClass:"popup__text"},[e._v("Column width:")]),n("td",{staticStyle:{"padding-right":"10px"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.columnwidth,expression:"columnwidth"}],staticClass:"popup__control input",attrs:{type:"text"},domProps:{value:e.columnwidth},on:{input:function(t){t.target.composing||(e.columnwidth=t.target.value)}}})]),n("td",{staticClass:"popup__text"},[e._v("Row height:")]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.rowheight,expression:"rowheight"}],staticClass:"popup__control input",attrs:{type:"text"},domProps:{value:e.rowheight},on:{input:function(t){t.target.composing||(e.rowheight=t.target.value)}}})])]),n("tr",[n("td",{attrs:{colspan:"4"}},[n("div",{staticClass:"popup__container"},[n("div",{staticClass:"button",on:{click:function(t){return e.$emit("close")}}},[e._v(" Cancel ")]),n("div",{staticClass:"button green",on:{click:e.create}},[e._v(" Create ")])])])])])},Ht=[],Xt={data:function(){return{columns:10,rows:10,columnwidth:100,rowheight:20}},methods:{create:function(){for(var e={default:{row:{height:this.rowheight},column:{width:this.columnwidth}},rows:[],columns:[],cells:[]},t=0;t<this.rows;t++)e.rows.push(y(e.default.row));for(var n=0;n<this.columns;n++)e.columns.push(y(e.default.column));f.broadcast("tablechanged",{table:e}),this.$emit("close")}}},Yt=Xt,Wt=Object(j["a"])(Yt,Ft,Ht,!1,null,null,null),Gt=Wt.exports,Qt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("table",{staticClass:"popup changesize"},[n("tr",[n("td",{staticClass:"popup__text"},[e._v("Columns:")]),n("td",{staticClass:"popup__control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.columns,expression:"columns"}],staticClass:"popup__control input",attrs:{type:"text"},domProps:{value:e.columns},on:{input:function(t){t.target.composing||(e.columns=t.target.value)}}})])]),n("tr",[n("td",{staticClass:"popup__text"},[e._v("Rows:")]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.rows,expression:"rows"}],staticClass:"popup__control input",attrs:{type:"text"},domProps:{value:e.rows},on:{input:function(t){t.target.composing||(e.rows=t.target.value)}}})])]),n("tr",[n("td",{attrs:{colspan:"2"}},[n("div",{staticClass:"popup__container"},[n("div",{staticClass:"button",on:{click:function(t){return e.$emit("close")}}},[e._v(" Cancel ")]),n("div",{staticClass:"button green",on:{click:e.change}},[e._v(" Change ")])])])])])},Zt=[],en={data:function(){return{rows:U.rows.length,columns:U.columns.length}},methods:{change:function(){while(this.rows<U.rows.length)U.rows.pop();while(this.rows>U.rows.length)U.rows.push(y(U.default.row));while(this.columns<U.columns.length)U.columns.pop();while(this.columns>U.columns.length)U.columns.push(y(U.default.column));this.$emit("close")}}},tn=en,nn=(n("4c21"),Object(j["a"])(tn,Qt,Zt,!1,null,"7ed8f884",null)),on=nn.exports,sn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("table",{staticClass:"popup changesize",style:{width:e.data.width+"px"}},[e._l(e.data.options,(function(t,o){return n("tr",{key:o},[n("td",{staticClass:"popup__text"},[e._v(e._s(t.label))]),n("td",{staticClass:"popup__control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.input,expression:"opt.input"}],staticClass:"popup__control input",attrs:{type:"text"},domProps:{value:t.input},on:{input:function(n){n.target.composing||e.$set(t,"input",n.target.value)}}})])])})),n("tr",[n("td",{attrs:{colspan:"2"}},[n("div",{staticClass:"popup__container"},[n("div",{staticClass:"button",on:{click:function(t){return e.$emit("close")}}},[e._v(" Cancel ")]),n("div",{staticClass:"button green",on:{click:function(t){e.call(e.data.apply.click,t),e.$emit("close")}}},[e._v(" "+e._s(e.data.apply.label)+" ")])])])])],2)},ln=[],rn={props:{data:{type:Object}},methods:{call:function(e,t){e.bind(this.data)(t)}}},cn=rn,an=Object(j["a"])(cn,sn,ln,!1,null,null,null),un=an.exports;function dn(e){f.broadcast("openpopup",{component:un,data:{width:360,options:[{label:"Delimiter:",input:it.get("delimiter")?it.get("delimiter"):";"},{label:"Column width:",input:"100"},{label:"Row height:",input:"20"}],apply:{label:"Load",click:function(){var t=this;it.set("delimiter",this.options[0].input),e.getContentAsync((function(n){wt.load(t.options[0].input,n,e.name,{row:{height:t.options[2].input},column:{width:t.options[1].input}})}))}}}})}var hn={components:{DropdownButton:qt},data:function(){return{tabletab:[{label:"Create",click:function(){f.broadcast("openpopup",{component:Gt})}},{label:"Open",click:function(){$((function(e){switch(e.ext){case"json":e.getContentAsync(rt.load);break;case"csv":dn(e);break;default:console.log("Invalid file type");break}}))}},{label:"Save",click:function(){f.broadcast("openpopup",{component:yt})},hotkey:["Ctrl","S"]},{label:"Change size",click:function(){f.broadcast("openpopup",{component:on})}},{type:"delimiter"},{label:"Add row after selected",click:function(){Oe.addRow(B.start.row+1)},hotkey:["Ctrl","K"],isDisabled:this.isDisabled},{label:"Add row before selected",click:function(){Oe.addRow(B.start.row)},hotkey:["Ctrl","I"],isDisabled:this.isDisabled},{label:"Delete selected row",click:function(){Oe.deleteRow(B.start.row)},hotkey:["Ctrl","U"],isDisabled:this.isDisabled},{type:"delimiter"},{label:"Add column after selected",click:function(){Oe.addColumn(B.start.column+1)},hotkey:["Ctrl","L"],isDisabled:this.isDisabled},{label:"Add column before selected",click:function(){Oe.addColumn(B.start.column)},hotkey:["Ctrl","J"],isDisabled:this.isDisabled},{label:"Delete selected column",click:function(){Oe.deleteColumn(B.start.column)},hotkey:["Ctrl","O"],isDisabled:this.isDisabled}],edittab:[{label:"Select all",click:function(){Oe.selectAll()},hotkey:["Ctrl","A"]},{type:"delimiter"},{label:"Clear",click:function(){Oe.clearSelected()},hotkey:["Delete"],isDisabled:this.isDisabled},{label:"Copy",click:function(){Oe.copy()},hotkey:["Ctrl","C"],isDisabled:this.isDisabled},{label:"Paste",click:function(){Oe.paste()},hotkey:["Ctrl","V"],isDisabled:this.isDisabled},{label:"Cut",click:function(){Oe.cut()},hotkey:["Ctrl","X"],isDisabled:this.isDisabled}],windowtab:[{type:"checkbox",label:"Show text table preview",click:function(){it.set("isTextTableViewerShowed",!it.get("isTextTableViewerShowed"))},isChecked:function(){return it.get("isTextTableViewerShowed")}}]}},methods:{isDisabled:function(){return!B.start}}},fn=hn,mn=(n("4064"),Object(j["a"])(fn,It,Nt,!1,null,"0b459914",null)),pn=mn.exports,vn={name:"App",components:{Table:kt,TextTableViewer:Dt,Popup:Kt,Tools:pn,Select:V},data:function(){return{isOverlayVisible:!1,isTextTableViewerShowed:!1}},computed:{tableStyle:function(){var e=this.isTextTableViewerShowed?"calc(100% - 400px)":"100%";return{width:e}}},created:function(){var e=this;Oe.init(),it.onchanged((function(t){return e.isTextTableViewerShowed=t.isTextTableViewerShowed}))},destroyed:function(){f.clear()}},wn=vn,gn=(n("5c0b"),Object(j["a"])(wn,i,s,!1,null,null,null)),bn=gn.exports;o["a"].config.productionTip=!1,new o["a"]({render:function(e){return e(bn)}}).$mount("#app")},"5a45":function(e,t,n){"use strict";n("d8c5")},"5c0b":function(e,t,n){"use strict";n("9c0c")},6351:function(e,t,n){},"6d05":function(e,t,n){e.exports=n.p+"img/dropdown.34913e33.svg"},"6ebd":function(e,t,n){"use strict";n("2eb7")},7439:function(e,t,n){"use strict";n("0fff")},7592:function(e,t,n){"use strict";n("1a54")},"7ab0":function(e,t,n){"use strict";n("3f1a")},"7bae":function(e,t,n){e.exports=n.p+"img/check.180a5208.svg"},"9c0c":function(e,t,n){},ac65:function(e,t,n){},d8c5:function(e,t,n){},e88b:function(e,t,n){"use strict";n("381d")},e9f5:function(e,t,n){},ebd7:function(e,t,n){}});
//# sourceMappingURL=app.2ec4060e.js.map